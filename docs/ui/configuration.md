# Настройки

## Файл конфигурации

Настройки хранятся в `~/.config/ruvox/config.json`.

## Параметры

### Синтез речи

| Параметр | Тип | По умолчанию | Описание |
|----------|-----|--------------|----------|
| `speaker` | string | `"xenia"` | Голос Silero (xenia, baya, kseniya, aidar, eugene) |
| `sample_rate` | int | `48000` | Частота дискретизации (8000, 24000, 48000) |

### Горячие клавиши

| Параметр | Тип | По умолчанию | Описание |
|----------|-----|--------------|----------|
| `hotkey_read_now` | string | `"Control+grave"` | Читать сразу |
| `hotkey_read_later` | string | `"Control+Shift+grave"` | Добавить в очередь |

### Очистка

| Параметр | Тип | По умолчанию | Описание |
|----------|-----|--------------|----------|
| `cleanup_played_after_days` | int | `7` | Удалять прослушанные через N дней |
| `cleanup_unplayed_after_days` | int | `30` | Удалять непрослушанные через N дней |

### Интерфейс

| Параметр | Тип | По умолчанию | Описание |
|----------|-----|--------------|----------|
| `window_geometry` | tuple | `null` | Позиция и размер окна (x, y, w, h) |

## Пример конфигурации

```json
{
  "speaker": "xenia",
  "sample_rate": 48000,
  "hotkey_read_now": "Control+grave",
  "hotkey_read_later": "Control+Shift+grave",
  "cleanup_played_after_days": 7,
  "cleanup_unplayed_after_days": 30,
  "window_geometry": [100, 100, 900, 600]
}
```

## Горячие клавиши

### Глобальные (работают в любом приложении)

| Комбинация | Действие |
|------------|----------|
| `Ctrl+`` | Читать сразу — озвучить буфер обмена немедленно |
| `Ctrl+Shift+`` | Читать отложено — добавить в очередь |

### В окне приложения

| Комбинация | Действие |
|------------|----------|
| `Space` | Пауза / Продолжить воспроизведение |
| `←` | Перемотка назад на 5 секунд |
| `→` | Перемотка вперёд на 5 секунд |
| `Shift+←` | Перемотка назад на 30 секунд |
| `Shift+→` | Перемотка вперёд на 30 секунд |
| `[` | Уменьшить скорость воспроизведения |
| `]` | Увеличить скорость воспроизведения |
| `N` | Следующий элемент в очереди |
| `P` | Предыдущий элемент в очереди |

### Формат горячих клавиш

Комбинации записываются в формате Qt:
- `Control+X` — Ctrl + X
- `Shift+X` — Shift + X
- `Alt+X` — Alt + X
- `Control+Shift+X` — Ctrl + Shift + X
- `grave` — клавиша `` ` `` (над Tab)

## Голоса Silero

Доступные голоса (v5_ru):

| Голос | Пол | Описание |
|-------|-----|----------|
| `xenia` | Ж | Чёткий, профессиональный |
| `baya` | Ж | Мягкий, спокойный |
| `kseniya` | Ж | Энергичный |
| `aidar` | М | Низкий, спокойный |
| `eugene` | М | Средний, нейтральный |

## Скорость воспроизведения

Поддерживаемые скорости: 0.5x — 2.0x с шагом 0.1x.

Скорость изменяется через плеер или клавиши `[` / `]`.

## Правила очистки

Приложение автоматически удаляет старые записи:

1. **Прослушанные записи** — удаляются через `cleanup_played_after_days` дней
2. **Непрослушанные записи** — удаляются через `cleanup_unplayed_after_days` дней
3. **Перегенерированные** — не удаляются автоматически (отмечены как важные)

Очистка происходит при запуске приложения.

## Сброс настроек

```bash
# Удалить конфигурацию
rm ~/.config/ruvox/config.json

# Удалить кэш (аудио, логи, история)
rm -rf ~/.cache/ruvox/
```

## Программное изменение настроек

```python
from ruvox.ui.models.config import UIConfig

# Загрузка
config = UIConfig.load()

# Изменение
config.speaker = "aidar"
config.sample_rate = 24000

# Сохранение
config.save()
```
